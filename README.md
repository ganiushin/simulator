# Olympic Robot v4.0

**–í–µ—Ä—Å–∏—è:** —Å–∏–º—É–ª—è—Ç–æ—Ä –≤ –±—Ä–∞—É–∑–µ—Ä–µ + –∑–∞–≥—Ä—É–∑–∫–∞ –Ω–∞ —Ä–æ–±–æ—Ç–∞ –ø–æ Bluetooth. –£–ø—Ä–æ—â–µ–Ω–Ω—ã–π —Å–∏–Ω—Ç–∞–∫—Å–∏—Å —Å yield –¥–ª—è –Ω–µ–±–ª–æ–∫–∏—Ä—É—é—â–µ–≥–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è!  
**v4:** —É–±—Ä–∞–Ω—ã async/await, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è yield –¥–ª—è –Ω–µ–±–ª–æ–∫–∏—Ä—É—é—â–∏—Ö –∑–∞–¥–µ—Ä–∂–µ–∫ –≤ –±—Ä–∞—É–∑–µ—Ä–µ.

‚Üê [–û–±–∑–æ—Ä –≤—Å–µ—Ö –≤–µ—Ä—Å–∏–π](../README.md) ¬∑ [–°—Ä–∞–≤–Ω–µ–Ω–∏–µ –≤–µ—Ä—Å–∏–π](../docs/VERSIONS.md)

---

–í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ Python —Å–∫—Ä–∏–ø—Ç–æ–≤, –∑–∞–ø—É—Å–∫–∞ —Å–∏–º—É–ª—è—Ç–æ—Ä–∞ –≤ –±—Ä–∞—É–∑–µ—Ä–µ –∏ –∑–∞–≥—Ä—É–∑–∫–∏ –Ω–∞ —Ä–æ–±–æ—Ç–∞ —á–µ—Ä–µ–∑ Bluetooth.

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞

```bash
cd v4.0
python3 -m venv venv
source venv/bin/activate  # Linux/Mac
# –∏–ª–∏
venv\Scripts\activate  # Windows

pip install -r requirements.txt
```

### –ó–∞–ø—É—Å–∫ —Å–µ—Ä–≤–µ—Ä–∞

```bash
python server/app.py
```

–û—Ç–∫—Ä–æ–π—Ç–µ –±—Ä–∞—É–∑–µ—Ä: **http://localhost:8080**

> **–í–∞–∂–Ω–æ:** –î–ª—è —Ä–∞–±–æ—Ç—ã Web Bluetooth —Ç—Ä–µ–±—É–µ—Ç—Å—è HTTPS (–∏–ª–∏ localhost). –í production –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç.

## üìñ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

1. **–ó–∞–≥—Ä—É–∑–∏—Ç–µ Python —Å–∫—Ä–∏–ø—Ç**
   - –ü–µ—Ä–µ—Ç–∞—â–∏—Ç–µ —Ñ–∞–π–ª `.py` –≤ –æ–±–ª–∞—Å—Ç—å –∑–∞–≥—Ä—É–∑–∫–∏ –∏–ª–∏ –Ω–∞–∂–º–∏—Ç–µ "–í—ã–±—Ä–∞—Ç—å —Ñ–∞–π–ª"
   - –°–∫—Ä–∏–ø—Ç –¥–æ–ª–∂–µ–Ω —Å–æ–¥–µ—Ä–∂–∞—Ç—å `def run_robot(bot):` —Å –ø—Ä–æ—Å—Ç—ã–º —Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–º –∫–æ–¥–æ–º (—Å–º. –ø—Ä–∏–º–µ—Ä –≤ `uploads/user_script.py`)

2. **–ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–∏–º—É–ª—è—Ç–æ—Ä**
   - –ù–∞–∂–º–∏—Ç–µ "üéÆ –ó–∞–ø—É—Å—Ç–∏—Ç—å —Å–∏–º—É–ª—è—Ç–æ—Ä"
   - –î–æ–∂–¥–∏—Ç–µ—Å—å –∑–∞–≥—Ä—É–∑–∫–∏ Pyodide (–º–æ–∂–µ—Ç –∑–∞–Ω—è—Ç—å 10-30 —Å–µ–∫—É–Ω–¥ –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—É—Å–∫–µ)
   - –ù–∞–∂–º–∏—Ç–µ "‚ñ∂ –°—Ç–∞—Ä—Ç" –¥–ª—è –∑–∞–ø—É—Å–∫–∞ —Ä–æ–±–æ—Ç–∞
   - –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–Ω–æ–ø–∫–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è:
     - **‚ñ∂ –°—Ç–∞—Ä—Ç** - –∑–∞–ø—É—Å—Ç–∏—Ç—å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ —Å–∫—Ä–∏–ø—Ç–∞
     - **‚è∏ –ü–∞—É–∑–∞** - –ø—Ä–∏–æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Å–∏–º—É–ª—è—Ü–∏—é
     - **üîÑ –°–±—Ä–æ—Å** - –≤–µ—Ä–Ω—É—Ç—å —Ä–æ–±–æ—Ç–∞ –≤ –Ω–∞—á–∞–ª—å–Ω—É—é –ø–æ–∑–∏—Ü–∏—é
     - **üîò –ö–Ω–æ–ø–∫–∞ —Ä–æ–±–æ—Ç–∞ (B)** - –Ω–∞–∂–∞—Ç—å –∫–Ω–æ–ø–∫—É —Ä–æ–±–æ—Ç–∞ (–∏–ª–∏ –∫–ª–∞–≤–∏—à–∞ B –Ω–∞ –∫–ª–∞–≤–∏–∞—Ç—É—Ä–µ)
     - **‚úñ –ó–∞–∫—Ä—ã—Ç—å** - –∑–∞–∫—Ä—ã—Ç—å —Å–∏–º—É–ª—è—Ç–æ—Ä

3. **–ó–∞–≥—Ä—É–∑–∏—Ç–µ –Ω–∞ —Ä–æ–±–æ—Ç–∞**
   - –ù–∞–∂–º–∏—Ç–µ "üì° –ó–∞–≥—Ä—É–∑–∏—Ç—å –Ω–∞ —Ä–æ–±–æ—Ç–∞ (Bluetooth)"
   - –í—ã–±–µ—Ä–∏—Ç–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ –≤ –¥–∏–∞–ª–æ–≥–µ Bluetooth
   - –°–∫—Ä–∏–ø—Ç –±—É–¥–µ—Ç –∑–∞–≥—Ä—É–∂–µ–Ω –Ω–∞ —Ä–æ–±–æ—Ç–∞ –∫–∞–∫ `/my_robot.py`

## üîß –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- Python 3.7+
- –°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π –±—Ä–∞—É–∑–µ—Ä —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π:
  - Web Bluetooth API (Chrome/Edge)
  - Canvas API
  - ES6+

## üìù –£–ø—Ä–æ—â–µ–Ω–Ω—ã–π —Å–∏–Ω—Ç–∞–∫—Å–∏—Å —Å yield

–í v4.0 —É–±—Ä–∞–Ω—ã `async` –∏ `await`, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `yield` –¥–ª—è –Ω–µ–±–ª–æ–∫–∏—Ä—É—é—â–∏—Ö –∑–∞–¥–µ—Ä–∂–µ–∫ –≤ –±—Ä–∞—É–∑–µ—Ä–µ. –ö–æ–¥ –æ—Å—Ç–∞–µ—Ç—Å—è –ø—Ä–æ—Å—Ç—ã–º –∏ –ø–æ–Ω—è—Ç–Ω—ã–º!

### –§–æ—Ä–º–∞—Ç —Å–∫—Ä–∏–ø—Ç–∞

- **`def run_robot(bot):`** ‚Äî —Ç–æ—á–∫–∞ –≤—Ö–æ–¥–∞ (–æ–±—ã—á–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è-–≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä, –±–µ–∑ `async`)
- **`yield bot.sleep(seconds)`** ‚Äî –∑–∞–¥–µ—Ä–∂–∫–∞ (–∏—Å–ø–æ–ª—å–∑—É–µ–º `yield` –¥–ª—è –Ω–µ–±–ª–æ–∫–∏—Ä—É—é—â–µ–≥–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è)

–ü—Ä–∏–º–µ—Ä:

```python
def run_robot(bot):
    bot.motors.move(30, 30)
    yield bot.sleep(1.0)  # –ò—Å–ø–æ–ª—å–∑—É–µ–º yield –¥–ª—è –∑–∞–¥–µ—Ä–∂–∫–∏!
    bot.motors.stop()
```

### –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –≤–µ—Ä—Å–∏–π

**v3.0 (—Å async/await):**
```python
async def run_robot(bot):
    bot.motors.move(30, 30)
    await bot.sleep(1.0)
    bot.motors.stop()
```

**v4.0 (—Å yield):**
```python
def run_robot(bot):
    bot.motors.move(30, 30)
    yield bot.sleep(1.0)  # –ü—Ä–æ—Å—Ç–æ –∏ –ø–æ–Ω—è—Ç–Ω–æ!
    bot.motors.stop()
```

### –í–∞–∂–Ω—ã–µ –∑–∞–º–µ—á–∞–Ω–∏—è

- –§—É–Ω–∫—Ü–∏—è `run_robot` - —Ñ—É–Ω–∫—Ü–∏—è-–≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç `yield`, –Ω–æ –±–µ–∑ `async`)
- –í–µ–∑–¥–µ, –≥–¥–µ –Ω—É–∂–Ω–∞ –∑–∞–¥–µ—Ä–∂–∫–∞, –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `yield bot.sleep(seconds)` - —ç—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –Ω–µ –±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å UI –≤ –±—Ä–∞—É–∑–µ—Ä–µ
- –ù–µ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `async def` –∏ `await` - –æ–Ω–∏ –Ω–µ –Ω—É–∂–Ω—ã –≤ v4.0!
- –ù–∞ —Ä–µ–∞–ª—å–Ω–æ–º —Ä–æ–±–æ—Ç–µ `bot.sleep()` –±—É–¥–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `time.sleep()` –∏–∑ MicroPython (–±–ª–æ–∫–∏—Ä—É—é—â–∏–π –≤—ã–∑–æ–≤)

## üåê Web Bluetooth

–î–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ –Ω–∞ —Ä–æ–±–æ—Ç–∞ —Ç—Ä–µ–±—É–µ—Ç—Å—è:
- HTTPS —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ (–∏–ª–∏ localhost)
- –ë—Ä–∞—É–∑–µ—Ä —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π Web Bluetooth (Chrome, Edge)
- –†–æ–±–æ—Ç –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –≤ —Ä–µ–∂–∏–º–µ —Å–æ–ø—Ä—è–∂–µ–Ω–∏—è Bluetooth

## üêõ –ò–∑–≤–µ—Å—Ç–Ω—ã–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è

- –°–∏–º—É–ª—è—Ç–æ—Ä –≤ –±—Ä–∞—É–∑–µ—Ä–µ —É–ø—Ä–æ—â–µ–Ω–Ω—ã–π (–Ω–µ –≤—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏ Pygame)
- Web Bluetooth —Ä–∞–±–æ—Ç–∞–µ—Ç —Ç–æ–ª—å–∫–æ –≤ Chrome/Edge
- –î–ª—è HTTPS –Ω—É–∂–µ–Ω SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç (–≤ production)
- –°–∫—Ä–∏–ø—Ç –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —Ñ—É–Ω–∫—Ü–∏–µ–π-–≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä–æ–º (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç `yield` –¥–ª—è –∑–∞–¥–µ—Ä–∂–µ–∫)

## üìö –°—Ç—Ä—É–∫—Ç—É—Ä–∞

```
v4.0/
‚îú‚îÄ‚îÄ README.md           # –≠—Ç–æ—Ç —Ñ–∞–π–ª
‚îú‚îÄ‚îÄ requirements.txt
‚îú‚îÄ‚îÄ server/
‚îÇ   ‚îî‚îÄ‚îÄ app.py          # Flask –≤–µ–±-—Å–µ—Ä–≤–µ—Ä
‚îú‚îÄ‚îÄ web/
‚îÇ   ‚îú‚îÄ‚îÄ index.html      # –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞
‚îÇ   ‚îî‚îÄ‚îÄ static/
‚îÇ       ‚îú‚îÄ‚îÄ main.js     # –û—Å–Ω–æ–≤–Ω–∞—è –ª–æ–≥–∏–∫–∞
‚îÇ       ‚îú‚îÄ‚îÄ simulator.js # –°–∏–º—É–ª—è—Ç–æ—Ä (Pyodide) - —É–ø—Ä–æ—â–µ–Ω–Ω—ã–π –¥–ª—è —Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–≥–æ –∫–æ–¥–∞
‚îÇ       ‚îú‚îÄ‚îÄ map-editor.js # –†–µ–¥–∞–∫—Ç–æ—Ä –∫–∞—Ä—Ç—ã
‚îÇ       ‚îî‚îÄ‚îÄ bluetooth.js # Web Bluetooth
‚îî‚îÄ‚îÄ uploads/
    ‚îî‚îÄ‚îÄ user_script.py  # –ü—Ä–∏–º–µ—Ä —Å–∫—Ä–∏–ø—Ç–∞ (def run_robot —Å –ø—Ä–æ—Å—Ç—ã–º bot.sleep)
```

## üéØ –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ v4.0

- ‚úÖ –ü—Ä–æ—â–µ —á–µ–º v3.0 - –Ω–µ—Ç `async` –∏ `await`
- ‚úÖ –ü–æ–Ω—è—Ç–Ω—ã–π —Å–∏–Ω—Ç–∞–∫—Å–∏—Å - –∏—Å–ø–æ–ª—å–∑—É–µ–º `yield bot.sleep(seconds)`
- ‚úÖ –ù–µ–±–ª–æ–∫–∏—Ä—É—é—â–µ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ –±–ª–∞–≥–æ–¥–∞—Ä—è `yield`
- ‚úÖ –ù–∞ —Ä–µ–∞–ª—å–Ω–æ–º —Ä–æ–±–æ—Ç–µ `bot.sleep()` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `time.sleep()` –∏–∑ MicroPython
- ‚úÖ –í—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏ v3.0 —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã
